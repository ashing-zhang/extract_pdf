Development and Implementation of a Dashboard for
Diabetes Care Management in OpenMRS
Bhanu Teja Yandrapalli∗ Josette Jones
Department of BioHealth Informatics Department of BioHealth Informatics
Indiana University-Purdue University Indiana University-Purdue University
9102 tcO 42  ]CH.sc[  1v73411.0191:viXra Indianapolis, IN 46202 Indianapolis, IN 46202
byandrap@iu.edu jofjones@iupui.edu
Saptarshi Purkayastha
Department of BioHealth Informatics
Indiana University-Purdue University
Indianapolis, IN 46202
saptpurk@iupui.edu
Abstract
A clinical dashboard for a patient’s diabetes condition helps physicians to make
better decisions based on readily available information. OpenMRS is a widely
used open-source electronic health records system but does not provide a disease-
specific dashboard. This project implemented a dashboard for displaying all
diabetes-related lab measures at one place, when a physician accesses a patient
record in OpenMRS. It summarizes a list of diabetes-related clinical measures
through an intuitive, chart-based, customizable user experience. Gauge charts are
used to display the most important lab values for Glucose, Renal Function, and
Lipid Profile tests. Data Tables are used to display data of the lab values from
the past and current visit in the table, including the ability to search for a specific
visit date. Interactive line charts are used to display the trends of lab measures.
Diabetes Dashboard may help physicians to make quicker decisions through this
snapshot view. We took data for few patients and demonstrated this to clinicians as
a proof of concept, without performing a full-fledged user evaluation. Future work
involves integrating this dashboard with clinical practice guidelines and alerting
when measures are outside the guidelines.
Keywords: Human-Computer Interaction, Dashboard, Diabetes, OpenMRS, Open
Web App.
1 Introduction
Diabetes Mellitus is a chronic metabolic disorder which is characterized by a persistent increase in the
blood glucose level. It is caused due to the deficiency in the production of insulin by the pancreas or
ineffectiveness of insulin produced by the body. Diabetes mellitus is categorized into Type 1 Diabetes
Mellitus, Type 2 Diabetes mellitus and other types of diabetes. Diabetes is diagnosed by doing an
HbA1c test, Fasting Plasma Glucose test (FPGT), and Oral Glucose tolerance test (OGTT) [1].
Social acceptance for the use of Information Technology in health care and the legislation for
incentivizing the use of electronic health/medical records (EHR/EMR) has led to additional burden on
∗This is a shortened version of the Capstone Project that was accepted by the Faculty of Indiana University,
in partial fulfillment of the requirements for the degree of Master of Science in Health Informatics.
Preprint. Under review.

physicians for storing a lot of documentation in these systems [2]. EHR is an electronic version of the
individual’s health care record, which can be accessed by a physician in real-time. EHR systems today
store all kinds of information such as medical history, diagnoses, medications, treatment plans, allergy
information, radiology images, laboratory results, etc. However, physicians have often complained
about the lack of evidence-based tools that can help them in improving their decision-making speed
and accuracy in the EHR systems [3].
OpenMRS is an EHR system, collaboratively developed by a large number of volunteers spread
across the world [4]. OpenMRS is also a software platform and reference application which en-
ables the design of customized medical records, which several researchers have used to prototype
upcoming health IT standards [5]. OpenMRS is also among the most simplest EHRs in terms of
user-performance [6]. The system is built on a conceptual database structure with no dependence
on the medical information’s actual types. Thus, making it flexible for use for a number of different
diseases and purposes. There is a concept dictionary which stores all the knowledge base in the form
of terms against which the actual values are stored. OpenMRS also provides user-authentication,
privilege-based access which allows different users to have differential access to the system [7]. The
patient repository features include the creation of patient data, maintenance, demographics, encounter,
orders, data and clinical observations (e.g., like lab results). A recent innovation in OpenMRS is the
use of external web applications through the Open Web Apps Module, based on the W3C Open Web
App standard [8].
Decision science researchers have suggested that dashboards provide an overview of information,
which might improve decision making [9]. In health care, such dashboards can provide progression
of patient disease, with infographics that make it easy to process complex and disparate information
[9]. The graphical representation of data also helps the physician to assess the results faster instead of
going through each data point. Dashboards may also incorporate statistical visualization using trends
of lab values, which saves time for the physician in identifying the outliers easily and correlations of
data [10].
In this paper, we describe the implementation of a Diabetes Dashboard in OpenMRS, which is a
web-based tool to provide summarized information about patient blood glucose profile, lipid and
renal profile of the last visit and a data table to show the changes in the values of lab parameters over
time and graphical interface shows the trends of lab values. The information makes the physician’s
work simple, since with a click the physician will be able to view patient lab results and discover
disease trajectory at a glance. Dashboards save time for physicians and reduce going through multiple
pages of visits to access the patient’s lab data. With this dashboard, the physician has access to all the
essential information for diabetes management with a single click.
2 Background
Diabetes Dashboard is an open web app installed on OpenMRS. Different ideas on how to develop
the dashboard were gathered from existing literature. The primary idea for this Diabetes Dashboard
is taken from the article written by Sim et al. [11]. The authors have done a great job in designing
a dashboard and integrating with the existing health record system at a University hospital. The
overview of our app and concept is adapted from the Sim et al. article. The data elements such as
LDL, HbA1c, and other elements are used for the assessment in this dashboard are standard ones
[12, 13]. The idea of developing a dashboard with color-coding to identify the targets which can give
a clear picture of the status of the patient’s disease progression was taken from the article written
by Martinez et al. [14]. Their study provides clarity that clinical measures such as HbA1c, LDL-C
were to be considered and gauge charts are to be used to represent important lab results. The idea of
lab measures displayed over time was taken from the article written by Stacy Zahanova et al. [15].
Traffic light approach with color-coding is taken from Fonda et al. [16] and Dagliati et al.[17].
3 Methodology
We used the following MeSH Terms to search for literature related to previous research done on
dashboards for diabetes: Diabetes, Diabetes Dashboard, Clinical Decision Support System (CDSS),
Electronic Health Record (EHR)/Electronic Medical Record (EMR), Glycemic Control, Open Web
App (OWA), HbA1c, Clinical variables, Diabetic measures.
2

Search Resources: For the literature search we used resources such as PubMed, Science Direct, and
Ovid. Mendeley was used as the citation manager.
Search Strategy: Only research articles in the English language were included in the study. Since
there were not many results, no search restrictions were included for this project.
3.1 Methods
OpenMRS customization is usually done using Java modules. However, recent architectural changes
such as an elaborate REST API has made it feasible to use Open Web Apps (HTML, CSS, JavaScript
apps), by loading them using the OpenWebApp (OWA) module. As mentioned earlier, OpenMRS
lacks the functionality to display all the vital data of a diabetic individual in one place. So, we
developed a proof-of-concept OWA-based Diabetes Dashboard. Data about diabetes lab observations
was imported into a dummy OpenMRS patient. The OWA interface is developed using HTML, CSS,
JavaScript. We used high charts (highccharts.com) for JavaScript-based interactive charting. Data
over time is shown using data tables from (datatables.net). The lab measure reference ranges are
taken from the American Diabetes Association. The following sections provide a detailed overview
of HTML form and developed diabetes dashboard.
3.1.1 Design of HTML Form
An HTML lab report form is developed by utilizing the HTML form entry module, which will enable
the user to create forms. Lab report form created has fields in three sections: Glycemic profile,
Lipid profile, Renal Function tests along with other fields to capture the vitals of the patient. The
OpenMRS concept dictionary contains all the medical concepts and descriptions. Many common
concepts were already present in the dictionary. Concepts which were not present were created using
the dictionary module. Medical concepts are mapped to terminologies like LOINC and SNOMED.
Each concept has a Universal Unique Identifier (UUID), which is used to retrieve data between
EHR system and OWA. The designed form has HbA1c, Fasting Plasma Glucose test (FPGT) in
glycemic profile as referenced from various articles from literature. HbA1c is one of the important
markers considered as a standard measure to evaluate the progression of diabetes. In the Lipid
profile, following are the variables considered: Total cholesterol, Low-Density Lipoproteins (LDL-C),
High-Density Lipoproteins (LDL-C), Triglycerides (TG). In the renal function tests, serum creatinine
and eGFR are taken. Unlike in the article by Sim et al.[11], there is no specific laboratory system in
place to capture all the details in segregated fashion. After reviewing the literature and American
Diabetes Association guidelines for the diagnosis and management following clinical variables are
selected and are included in the form.
When a test is ordered for a patient with diabetes by a physician, upon completion of the analysis
the results are entered manually into the created HTML form. The lab technician will log in into
OpenMRS and find the patient using find options, under the forms section there is a diabetes form
which needed to be selected to enter the results in respective fields. To prevent any manual errors
there is a validation set for the concepts at the back-end.
3.1.2 Design and Development of Diabetes Dashboard
Tools used in Web app development: Node.js, Yeoman OWA OpenMRS generator, HTML, CSS,
JavaScript, High Charts, Data tables. The first step is to successfully create an OWA. Open Web App
(OWA) is a standard packaging format of HTML, CSS, and JavaScript which can be used to build
applications that can be run across different browsers and mobile devices. Node.js is a framework for
building a Web application, Yeoman OpenMRS OWA generator is used to scaffold the Open web
app. Node Package Manager will allow the yeoman script installation which is necessary for building
libraries of OWA package. The first step is to make sure Node.js 6+ is installed and open terminal
use the command found on (https://www.npmjs.com/package/@openmrs/generator-openmrs-owa)
step by step to install dependencies, run OWA generator and Scaffold the Open Web App. It will ask
to give the app name, description and libraries to be included in the Open Web App package. The
app is successfully scaffolded. REST API services are used to get or fetch the data from the EHR
into a web app.
After the OWA package is installed, it is linked as a widget under general actions on the patient
record page. The code is hosted on GitHub at (https://github.com/nani147/owa-diabetesdashboard)
3

for any future collaboration. The OWA created is a package of index HTML file where the code
for the app goes, an img folder for holding images, CSS folder to hold files essential for styling the
HTML document and js Folder where the JavaScript goes to bring functionalities for the app.
Figure 1: Presence of direct link in general actions
Figure 1 is a screenshot to show how a physician can access the Diabetes dashboard from the
OpenMRS Reference Application patient dashboard. The highlighted Open Diabetes dashboard is
placed under general actions as a widget that can be easily accessible by physicians. The widget
is linked to the dashboard by using the manage apps module in OpenMRS, where a URL link is
assigned an icon to link to the app. When physicians click on the link it takes to the dashboard which
appears like in Figure 2.
Figure 2: Patient header and Gauge Charts with color coding
4

Due to the space limitations (the page scrolls vertically), the whole app cannot be shown, but in a
single view, the physician can view the visualization, data tables and graphs, as shown in Figure 3.
Figure 3: Data table to show observation values over time
On the top of the dashboard is the patient header containing the details of the patient and it is displayed
using a JavaScript. The patient header details are loaded into the app as a header by utilizing the
target onload function and the details of the respective patient are displayed.
Gauge Charts:
Circular plots also known as Gauge Charts, are an interactive chart built using JavaScript, with dial
pointing to indicate the values of the glycemic, renal and lipid profiles of the patient. We use color
coding to highlight normal/abnormal values for these observations, as can be seen in Figure 2. In
the HTML for gauges, containers are assigned for each of the lab measures and AJAX JavaScript
code gets the values from the /obs REST API endpoint and displays the values of the observations
into the gauges. The response of the REST API is stored in the browser localstorage, so that the app
can also be used offline, once the REST calls have been made and the values have not been updated
in the EHR. This makes the diabetes dashboard more responsive. The code is written in a way to
display the last value, i.e. from the recent visit. In the Gauge chart, we use the color codes according
to the “Traffic light” approach of red (abnormal), yellow (slightly above normal) and green colors
(normal) are used to highlight the lab measures. Plot Band in Gauge Series is used to define the color
coding according to the standard measures specified in ADA. For the three profiles, data is retrieved
from the EHR system and is displayed at different color regions depending on the lab measure value,
if the values are under the preferred range the dial will point towards the values and will be in the
green zone and so on for the colored regions in Gauge. We enabled Tooltip to allow hovering over an
option, and show the values along with the measure name. These Gauge charts will help physicians
to have a detailed overview of diabetes clinical measures. At a glance the physician can see what
clinical measures are not in range.
Figure 4: Data table with a date search
Data Table:
Data Tables is a plug-in for the jQuery JavaScript library. It is a highly flexible tool, build upon the
foundations of progressive enhancement, that adds all these advanced features to any HTML table
(datatables.net). Data Table displays the information from the previous visits by utilizing Server-Side-
5

Processing. An AJAX GET request is made to the specified URL in OpenMRS REST API and the
data is returned to the table along with respective dates. Our Data Table displays information of the
visits according to dates and the records can be limited to 10 to 100 by using the show icon. The table
also has a search bar which can be used to search the visit date of the patient. Figure 5 shows the
data is searched for 2018-11-30, which displays the clinical measures for the specified date. This will
help the physician to see for particular visit date data.The summary data which is displayed in gauge
charts are only for the recent visit, but data tables can do more than that. The data table is useful
because it can show the data over time, which includes the past visit information on the patient’s
performance. With this feature doctor can see the measures for the past and recent Visit and compare
both values that can help to identify the measures outliers, from this physician will have an overview
of data and can talk to the patient about any interventions or treatment change.
Figure 5: A Triglycerides line chart showing trend over time
Lab Parameter Trends:
To show the trends of lab values, High chart Line graphs are used to display. These are interactive
line-graphs where physicians can hover over the data points to see the value of the lab measure and
month which the test is done. To get all the values of the previous visits, an Ajax call is done for each
UUID and data is pushed into an array and “local storage” property is used to store data for easy
retrieval of data, code is written in line chart Js file to the get the lab measures values into the array,
also to retrieve date of the test. On the x-axis, months of the test done is displayed and on the y-axis
is range. These line graphs will help physicians to see the trends of lab measures, serves as a better
visualization. Like in the below snippet physician can interact with the line graphs to see the values
of different lab measures.
Figure 6: High chart line graphs
6

4 Limitations
The implemented app is working as expected, but there are some limitations such as the developed
app can only display values of lab measures or clinical measures in mmol/L where diabetic measures
can be also measured in mg/dl. When we decided to go with the gauge charts to display the measure
ranges in color coding for all the three glycemic, renal, and lipid profiles, mg/dl will make the charts
too big and complex, so we opted for another unit of measurement which made charts simple, helped
in better visualization. This might be a problem for some physicians who are used to view values
in mg/dl. We did not evaluate the implemented system. In the future, we will conduct a user study
whose feedback will be used to improve the design and usability of the dashboard.
5 Future Status
Currently, the implemented app has dashboard functionalities, but in future, there is an idea to
implement decision support capabilities, which will make the existing dashboard a fully functional
Clinical Decision Support System. The decision support system will have a modules for alerting
the provider. With the alert functionality it will be easier to know when the test is due. Diabetic
complications are not captured at present. In the future, a system could be developed to monitor the
complications. Along with these functionalities, implementation of Clinical Practice Guidelines will
help physicians to practice Evidence-Based Medicine for making better decisions while designing a
therapy. In the future, it might also be useful to automatically customize the dashboard on patient
persona [18].
6 Conclusion
We have successfully developed a working diabetes dashboard and implemented it in OpenMRS.
Development of a dashboard to summarize the information of individuals in a single screen, accessed
with a single click within the patient health record page is accomplished. We hope the implemented
system will help physicians to access the diabetic individual information all at a single place instead
of going through multiple screens and a lot of clicks to see the results of patients. The implemented
app saves physician time because of its design to show all the information at a single place. With
this add-on feature to OpenMRS, it gives physicians more time to focus on the patient, rather than
browsing multiple screens. This dashboard might be more beneficial if implemented in an outpatient
setting. In future, the alert module will make the developed app as a decision support system which
can help physicians in making clinical decisions.
References
[1] American Diabetes Association. 2. Classification and Diagnosis of Diabetes: Standards of
Medical Care in Diabetes—2018. Diabetes Care, 41(Supplement 1):S13–S27, January 2018.
[2] Stephen T. Mennemeyer, Nir Menachemi, Saurabh Rahurkar, and Eric W. Ford. Impact of the
HITECH Act on physicians’ adoption of electronic health records. Journal of the American
Medical Informatics Association, 23(2):375–379, March 2016.
[3] Eyal Zimlichman, Carol Keohane, Calvin Franz, Wendy L. Everett, Diane L. Seger, Cather-
ine Yoon, Alexander A. Leung, Cadet Bismarck, Michael Coffey, Nathan E. Kaufman, and
David W. Bates. Return on Investment for Vendor Computerized Physician Order Entry in Four
Community Hospitals: The Importance of Decision Support. The Joint Commission Journal on
Quality and Patient Safety, 39(7):312–318, July 2013.
[4] Burke W. Mamlin, Paul G. Biondich, Ben A. Wolfe, Hamish Fraser, Darius Jazayeri, Christian
Allen, Justin Miranda, and William M. Tierney. Cooking Up An Open Source EMR For
Developing Countries: OpenMRS – A Recipe For Successful Collaboration. AMIA Annual
Symposium Proceedings, 2006:529–533, 2006.
[5] Judy W. Gichoya, Marc Kohli, Larry Ivange, Teri S. Schmidt, and Saptarshi Purkayastha. A
Platform for Innovation and Standards Evaluation: a Case Study from the OpenMRS Open-
Source Radiology Information System. Journal of Digital Imaging, 31(3):361–370, June
2018.
7

[6] Saptarshi Purkayastha, Roshini Allam, Pallavi Maity, and Judy W. Gichoya. Comparison of
Open-Source Electronic Health Record Systems Based on Functional and User Performance
Criteria. Healthcare Informatics Research, 25(2):89–98, April 2019.
[7] Saptarshi Purkayastha, Judy W. Gichoya, and Siva Abhishek Addepally. Implementation of a
Single Sign-on System Between Practice, Research and Learning Systems. Applied Clinical
Informatics, 8(1):306–312, March 2017.
[8] Arno Puder, Nikolai Tillmann, and Micha\l Moskal. Exposing Native Device APIs to Web
Apps. In Proceedings of the 1st International Conference on Mobile Software Engineering and
Systems, MOBILESoft 2014, pages 18–26, New York, NY, USA, 2014. ACM. event-place:
Hyderabad, India.
[9] Amy Franklin, Swaroop Gantela, Salsawit Shifarraw, Todd R. Johnson, David J. Robinson,
Brent R. King, Amit M. Mehta, Charles L. Maddow, Nathan R. Hoot, Vickie Nguyen, Adriana
Rubio, Jiajie Zhang, and Nnaemeka G. Okafor. Dashboard visualizations: Supporting real-time
throughput decision-making. Journal of Biomedical Informatics, 71:211–221, July 2017.
[10] A. M. P. Brasoveanu, M. Sabou, A. Scharl, A. Hubmann-Haidvogel, and D. Fischl. Visualizing
Statistical Linked Knowledge Sources for Decision Support. Semantic Web Journal,(8), 1, 2017.
[11] Livvi Li Wei Sim, Kenneth Hon Kim Ban, Tin Wee Tan, Sunil Kumar Sethi, and Tze Ping Loh.
Development of a clinical decision support system for diabetes care: A pilot study. PLOS ONE,
12(2):e0173021, February 2017.
[12] Richelle J. Koopman, Karl M. Kochendorfer, Joi L. Moore, David R. Mehr, Douglas S. Wake-
field, Borchuluun Yadamsuren, Jared S. Coberly, Robin L. Kruse, Bonnie J. Wakefield, and
Jeffery L. Belden. A Diabetes Dashboard and Physician Efficiency and Accuracy in Accessing
Data Needed for High-Quality Diabetes Care. The Annals of Family Medicine, 9(5):398–405,
September 2011.
[13] Dawn Dowding, Rebecca Randell, Peter Gardner, Geraldine Fitzpatrick, Patricia Dykes, Jesus
Favela, Susan Hamer, Zac Whitewood-Moores, Nicholas Hardiker, Elizabeth Borycki, and
Leanne Currie. Dashboards for improving patient care: Review of the literature. International
Journal of Medical Informatics, 84(2):87–100, February 2015.
[14] William Martinez, Anthony L. Threatt, S. Trent Rosenbloom, Kenneth A. Wallston, Gerald B.
Hickson, and Tom A. Elasy. A Patient-Facing Diabetes Dashboard Embedded in a Patient Web
Portal: Design Sprint and Usability Testing. JMIR Human Factors, 5(3):e26, 2018.
[15] Stacy Zahanova, Alexandra Tsouka, Mark R. Palmert, and Farid H. Mahmud. The iSCREEN
Electronic Diabetes Dashboard: A Tool to Improve Knowledge and Implementation of Pediatric
Clinical Practice Guidelines. Canadian Journal of Diabetes, 41(6):603–612, December 2017.
[16] StephanieJ. Fonda, ChristineA.Paulsen, Joan Perkins, Richard J.Kedziora, DavidRodbard, and
Sven-Erik Bursell. Usability test of an internet-based informatics tool for diabetes care providers:
the comprehensive diabetes management program. Diabetes Technology & Therapeutics,
10(1):16–24, February 2008.
[17] Arianna Dagliati, Lucia Sacchi, Valentina Tibollo, Giulia Cogni, Marsida Teliti, Antonio
Martinez-Millana, Vicente Traver, Daniele Segagni, Jorge Posada, Manuel Ottaviano, Giuseppe
Fico, Maria Teresa Arredondo, Pasquale De Cata, Luca Chiovato, and Riccardo Bellazzi.
A dashboard-based system for supporting diabetes care. Journal of the American Medical
Informatics Association: JAMIA, 25(5):538–547, 2018.
[18] Richard J Holden, Anand Kulanthaivel, Saptarshi Purkayastha, Kathryn M Goggins, and Sunil
Kripalani. Know thy ehealth user: Development of biopsychosocial personas from a study
of older adults with heart failure. International journal of medical informatics, 108:158–167,
2017.
8