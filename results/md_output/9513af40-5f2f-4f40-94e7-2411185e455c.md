Stability margins and model-free control: A first look
Michel FLIESSa,c and Ce´dric JOINb,c,d
Abstract—We show that the open-loop transfer functions • F subsumes the unknown parts, including the perturba-
and the stability margins may be defined within the recent tions,
model-free control setting. Several convincing computer
• α is a constant parameter which is chosen by the
experiments are presented including one which studies the
engineer in such a way that αu and y˙ are of the same
robustness with respect to delays.
magnitude.
Keywords— Stability margins, phase margins, gain margins, Remember that Equation (1) applies not only to systems with
model-free control, intelligent PID controllers, linear systems,
lumped parameters, i.e., to systems which are described by
4102 raM 62  ]CO.htam[  1v2086.3041:viXra
nonlinear systems, delay systems.
ordinary differential equations of any order, but also to sys-
tems with distributed parameters, i.e., to partial differential
I. INTRODUCTION
equations (see, e.g., [13]). Close the loop with
Stability margins are basic ingredients of control theory.
F + y˙⋆ + F
est
They are widely taught (see, e.g., [1], [2], [9], [10], [11], u = − (2)
α
[16], and the references therein) and are quite often utilized
such that
in industry in order to check the control design of plants, or,
• F is a realtime estimate of F (see Section II-C),
more exactly, of their mathematical models. The importance est
• y⋆ is a reference trajectory,
of this topic is highlighted by the following fact: the literature
• the closed loop system is
on theoretical advances and on the connections with many
case-studies contains several thousands of publications! This e˙ + F = F F (3)
est
−
communication relates stability margins to the recent model-
where e = y⋆ y is the tracking error,
free control and the corresponding intelligent PIDs [4],
−
• F is either a proportional controller
which were already illustrated by many concrete and varied
applications (see, e.g., the numerous references in [4], and, F = K e (4)
P
during the last months, [3], [14], [17], [19], [20], [21], [24],
or, sometimes, a proportional-integral controller
[29], [30]).
Remark 1.1: Let us emphasize that our model-free control
F = K e + K e (5)
P I
design and the corresponding intelligent controllers are most
Z
easily implementable (see [4], [12]). such that
Our aims are the following ones: e˙ + F = 0 (6)
1) Practitioners of stability margins and other frequency
exhibits the desired asymptotic stability. For instance
techniques will recognize that their expertise still
K in Equation (4) should be positive.
P
makes sense within model-free control.
Equations (4)-(6) and (5)-(6) yield the usual open-loop
2) The influence of delays in model-free control is ana-
transfer functions
lyzed for the first time.
K
P
Let us briefly explain our viewpoint. Take a monovariable T = (7)
1OLP
s
system which is governed by unknown equations. Consider
and
the ultra-local model [4]
1 K K K
I P I
y˙ = F + αu (1) T = (K + ) = + (8)
1OLPI P
s × s s s2
where
Their gain and phase margins are by definitions those of the
• u and y are respectively the input and output variables, systems defined by Equations (7) and (8). Note that F F
est
−
in Equation (3) should be viewed as an additive disturbance.
a LIX (CNRS, UMR 7161), E´cole polytechnique, 91128 Palaiseau, Our paper is organized as follows. Basics of model-
France. Michel.Fliess@polytechnique.edu
free control are briefly revisited in Section II. Section III
b
CRAN (CNRS, UMR 7039), Universite´ de Lorraine, BP 239, 54506
computes some open loop functions for iPID’s, iPD’s, iPIs,
Vandœuvre-le`s-Nancy, France.
cedric.join@univ-lorraine.fr iPs as well as the corresponding stability margins. Several
c
AL.I.E.N.(ALge`bre pour Identification & Estimation Nume´riques), 24-
computer experiments are examined in Section IV, including
30 rue Lionnois, BP 60120, 54003 Nancy, France.
the robustness with respect to delays. Concluding remarks
{michel.fliess, cedric.join}@alien-sas.com
d Projet NON-A, INRIA Lille – Nord-Europe, France. are developed in Section V.

II. MODEL-FREE CONTROL: A SHORT REVIEW1 If ν = 1 in Equation (9), we recover Equation (1).
The loop is closed by the intelligent proportional-integral
A. The ultra-local model
controller, or iPI,
Introduce the ultra-local model
∗
F + y˙ + K e + K e
est P I
y(ν) = F + αu (9) u = −
α
R
where
K may often be set to 0. It yields the intelligent proportional
I
• the order ν 0 of derivation is a non-negative integer controller, or iP,
≥
which is selected by the practitioner,2
∗
F + y˙ + K e
• α R is chosen by the practitioner such that αu and u = − est P
y(ν∈ ) are of the same magnitude, − α
• F represents the unknown structure of the control C. Estimation of F
system as well as the perturbations.
Assume that F in Equation (9) may be “well” approxi-
mated by a piecewise constant function F . According to
B. Intelligent controllers est
the algebraic parameter identification developed in [7], [8],
1) Generalities: Close the loop with respect to Equation
rewrite, if ν = 1, Equation (1) in the operational domain
(9) via the intelligent controller
(see, e.g., [31])
y∗(ν)
F + + F(e)
est Φ
u = − (10) sY = + αU + y(0)
α
s
where
where Φ is a constant. We get rid of the initial condition
• F is a realtime estimate of F, y(0) by multiplying both sides on the left by d :
est
ds
∗
• y is the output reference trajectory,
dY Φ dU
• e = y∗ y is the tracking error, Y + s = + α
− ds −s2 ds
• F(e) is a functional of e such that the closed-loop
Noise attenuation is achieved by multiplying both sides on
system
s−2.
the left by It yields in the time domain the realtime
e(ν) + F(e) = F F (11)
est
− estimate
exhibits a desired behavior. If, in particular, the estima- t
6
tion is perfect, i.e., F = F, then F est(t) = ((τ 2δ)y(δ) + αδ(τ δ)u(δ))dδ
est −τ3 − −
t−τ
Z
e(ν) + F(e) = 0 (12) where τ > 0 might be “small”.
Remark 2.1: As in our first publications on model-free
should be asymptotically stable, i.e., lim e(t) = 0.
t→+∞
control, F (t) might also be obtained by estimating the
est
2) Intelligent PIDs: If ν = 2 in Equation (9), i.e.,
noisy derivative of y (see [5], and [18], [15]).
y¨ = F + αu (13)
III. OPEN-LOOP TRANSFER FUNCTIONS
Close the loop via the intelligent proportional-integral- A. Definitions
derivative controller, or iPID, Assume that in Equation (10) F may be defined by a
transfer function T . Then Equation (12) yields the transfer
∗ F
F + y¨ + K e + K e + K e˙
est P I D
u = − (14) function
α T
F
R T = (16)
νOL
sν
where K , K , K are the usual tuning gains. Combining
P I D
which is called the open-loop transfer function of the system
Equations (13) and (14) yields
defined by Equations (9) and (10). If ν = 2, and with an
e¨+ K e˙ + K e + K e = F F iPID, the open-loop transfer function (16) of the system
D P I est
−
defined by Equations (13) and (14) becomes
Z
K = 0 in Equation (14) yields the intelligent proportional-
I K K K
derivative controller, or iPD, T = P + I + D (17)
2OLPID
s2 s3 s
∗
F + y¨ + K e + K e˙
u = − est P D (15) It becomes for an iPD:
α
K K
P D
Such an iPD was employed in [3]. T = + (18)
2OLPD
s2 s
1See [4] for more details. If ν = 1, and with an iPI, the open-loop transfer function
2The existing examples show that ν may always be chosen quite low, of the system defined by Equations (1) and (4) or (5),
i.e., 1, or 2. Most of the times ν = 1. The only concrete example until now
the corresponding open-loop transfer functions were already
with ν = 2 is provided by the magnetic bearing [3], where the friction is
negligible (see the explanation in [4]). given by Equations (7) and (8).

Remark 3.1: Notice that T and T are ex- A, B, C, D are given by
1OLPI 2OLPD
pressed by Formulae (8) and (18) , which are identical if
A =
we exchange K , K with K , K .
P I I D
2/6
K2 K6 K2(2K K K2 )
I + P P I P − D
B. Stability margins 2 27 − 6
(cid:18) (cid:19)
3/6
1) iP: Setting s = jω in Equation (7), where K2 K4 2K K
D + P I P
• ω is a non-negative real number, − 3 9 − 3
(cid:18) (cid:19)
• j = √ 1, K2 K6 K2(2K K K2 ) 1/3
− + I + P P I P − D
gives T (jw) = KP = jKP . Since K > 0 and 2 27 − 6
1OLP P
jω − ω (cid:18) (cid:19)
ω 0, we obtain the following margins:
≥ K2 K4 2K K
B = D + P I P
◦
PhaseMargin = 90 3 9 − 3
1OLP
C =
and
2/3
K2 K6 K2(2K K K2 )
GainMargin = + I + P P I P − D
1OLP
∞
2 27 − 6
(cid:18) (cid:19)
2) iPI: Setting as above s = jω in Equation (8) yields K2 K4 2K K 1/6 (19)
a complex quantity where the imaginary part is jKP . D + P I P
− ω − 3 9 − 3
Therefore (cid:18) (cid:19)
1/3
K2 K6 K2(2K K K2 )
GainMargin = + + I + P P I P − D
1OLPI
∞ 2 27 − 6
(cid:18) (cid:19)
and
K2
tan−1 K Pω m D = 3P
PhaseMargin =
1OLPI K
I
(cid:18) (cid:19) Remark 3.2: Since model-free control encompasses to
where some extent nonlinear control, the above calculations yield
a kind of nonlinear generalization of stability margins (see
K2 + K4 + 4K2
ω = P P I Section IV-A). Remember that the stability margins for non-
m
s 2
p linear systems have been studied in a number of publications
is such that the module of T is equal to 1. A phase (see, e.g., [25]).
1OLPI
◦
margin of 45 , for instance, is obtained by setting
IV. NUMERICAL ILLUSTRATIONS
K
I The equations of the systems considered below are only
ω =
m
K
P given for achieving of course computer simulations.
K and K are then related by the equation
P I A. A nonlinear academic example
1) Description and control: Consider the stable single-
K K2 + K4 + 4K2
I = P P I input single-output system
K s 2
P p
y¨+ 4y˙ + 3y = 3u˙u2 + 2u3 (20)
3) iPD: It suffices according to Remark 3.1 to replace,
Our ultra-local model is
in the expressions related to the iPIs in Section III-B.2, K
P
and K respectively by K and K .
I D I y˙ = F + u (21)
4) iPID: It follows from Equation (17) that the stability
margins necessitates here the famous Cardano formulae i.e., ν = 1, α = 1 in Equation (9). We employ the iP
which give the roots of third degree algebraic equations (see, controller (4) where K = 1. The gain and phase margins
P
e.g., [28]). A single root is moreover real. Then are given by Section III-B.1, as in many concrete systems.
2) Some computer experiments: According to the above
K
I control scheme, a “good” estimation of F in Equation (21)
GainMargin =
2OLPID K K
D P plays a key roˆle. Equations (20) and (21) yield the following
expression which is used for comparison’s sake.
and
3u˙u2 + 2u3 4u y¨ 3y
K ω2 K
PhaseMargin = tan−1 D m − I F = − − −
2OLPID K w 4
P m
(cid:18) (cid:19)
Figure 1 displays excellent results with a sampling time
where interval T = 0.01s for estimating F.3 The results shown in
est
B
ω = A + + D
m C 3T est = 0.01s is also equal to the sampling time period.
r

Figures 2 and 3 are respectively obtained for T = 1s and yields
est
π
T = 10s. The damages are visible. Figure 3 demonstrates
est τ =
max
that the results with T = 10s cannot be exploited in 2K
est P
practice.
i.e., the maximum admissible time lag for stability.
Remark 4.1: Let us emphasize that corrupting noises are
3) Computer experiments with delay: Figure 5 displays
neglected here for simplicity’s sake.
an excellent stability obtained with a time lag τ = 0.2s and
K = 1. Then τ 1.57s.
B. A linear academic case P max
≃
With the “high” gain K = 10, τ 0.16s. Stability is
P max
1) Description and control: Consider the unstable single- ≃
then lost as shown by Figure 6.
input single-output linear system
V. CONCLUSION
2y˙ 3y = u (22)
− We have demonstrated that the calculations related to
stability margins may be easily extended to our recent model-
Equation (21) is again used as an ultra-local model. The loop
free techniques, where they provide some new insight on the
is closed via the iP controller (4) with some suitable gain K .
P
robustness with respect to delays. As already discussed in [4],
As above, in Section IV-A.1, the gain and phase margins are
delays, which remain one of the most irritating questions in
given by Section III-B.1. Stability is therefore ensured with a
the model-free setting, do necessitate further investigations.4
good robustness. Figure 4 displays simulations with K = 1,
P
The key point nevertheless in order to ensure satisfactory
a sampling time period T = 0.01s, and an additive Gaussian
e
performances is in our opinion a “good” estimate of F. This
corrupting noise N(0,0.03) on the output. The trajectory
question, which
tracking is excellent.
2) Robustness with respect to a delayed control: Introduce • has been summarized in Section II-C,5
a time lag τ in the control transmission. The transfer function • might become difficult with very severe corrupting
of (22) is no more noises and/or a poor time sampling,
1
seems unfortunately to be far apart from the stability margins
2s 3 techniques.
−
but
e−τs REFERENCES
2s 3 [1] K.J. A˚stro¨m, R.M. Murray, Feedback Systems: An Introduction for
− Scientists and Engineers, Princeton University Press, 2008.
[2] H. Bourle`s, H. Guillard, Commande des syste`mes. Performance et
Remark 4.2: Such delays, which might occur in practice, robustesse, Ellipses, 2012.
[3] J. De Miras, C. Join, M. Fliess, S. Riachy, S. Bonnet, Active magnetic
have already been studied in the literature (see, e.g., [22],
nd
bearing: A new step for model-free control, 52 IEEE Conf. Decision
[23], [27]).
Control, Florence, 2013. Preprint available at
Remark 4.3: Systems with transfer functions of the form http://hal.archives-ouvertes.fr/hal-00857649/en/
[4] M. Fliess, C. Join, Model-free control, Int. J. Control, vol. 86, pp.
T(s)e−τs 2228–2252, 2013. Preprint available at
http://hal.archives-ouvertes.fr/hal-00828135/en/
[5] M. Fliess, C. Join, H. Sira-Ram´ırez, Non-linear estimation is easy, Int.
where T R (s) is a rational function, are according to
J. Model. Identif. Control, vol. 4, pp. 12–27, 2008. Preprint available
∈
[6] the most usual linear delay single-input single-output at http://hal.archives-ouvertes.fr/inria-00158855/en/
systems. It is also well known that they are used for [6] M. Fliess, R. Marquez, H. Mounier, An extension of predictive control,
PID regulators and Smith predictors to some linear delay systems, Int.
approximating “complex” nonlinear systems without delays
J. Control, vol. 75, pp. 728–743, 2002.
(see, e.g., [26]). It has been emphasized in [4] that such [7] M. Fliess, H Sira-Ram´ırez, An algebraic framework for linear identi-
approximations are becoming useless when applying model- fication, ESAIM Control Optimiz. Calc. Variat., vol. 9, pp. 151–168,
2003.
free control design.
[8] M. Fliess, H. Sira-Ram´ırez, Closed-loop parametric identification for
continuous-time linear systems via new algebraic techniques, in eds.
Assume that we are doing the same computations as in H. Garnier and L. Wang, Identification of Continuous-time Models from
Sampled Data, Springer, pp. 362–391, 2008. Preprint available at
Section IV-B.1, and, in particular, that F is estimated with
http://hal.archives-ouvertes.fr/inria-00114958/en/
the techniques presented in Section II-C. It amounts saying [9] O. Fo¨llinger, Regelungstechnik: Einfu¨hrung in die Methoden und ihre
that we are in fact replacing Equation (21) by Anwendungen, 8. Aufl., Hu¨thig, 1994.
[10] G. F. Franklin, J. D. Powell, A. Emami-Naeini, Feedback Control of
th
Dynamic Systems, 6 ed., Addison-Wesley, 2006.
y(t) = F + u(t τ)
th
[11] F. Golnaraghi, B. C. Kuo, Automatic Control Systems, 9 ed.,
−
Prentice-Hall, 2009.
The open loop transfer function becomes therefore
[12] C. Join, F. Chaxel, M. Fliess, “Intelligent” controllers on cheap and
nd
small programmable devices, 2 Int. Conf. Control Fault-Tolerant
e−τs
K
P Syst., Nice, 2013. Preprint available at
T =
1τOLP s http://hal.archives-ouvertes.fr/hal-00845795/en/
Solving the equation 4See also [13].
5The introduction lists the references of many successful concrete exam-
T (jω) = 1 ples.
1τOLP
−

1.2 1 2.5
0.9
1 2
0.8
1.5
0.8 0.7
1
0.6
0.6
0.5 0.5
0.4
0.4
0
0.2 0.3
−0.5
0.2
0 −1
0.1
−0.2 0 −1.5
0 5 10 15 20 25 30 35 40 45 0 5 10 15 20 25 30 35 40 45 0 5 10 15 20 25 30 35 40 45
Time(s) Time(s) Time(s)
(a) Control (b) Setpoint (- ., black), Reference (- -, (c) F (- -, red) and F (–, blue)
est
red) and Output (–, blue)
Fig. 1: T = 0.01s
est
1.2 1 2.5
0.9
1 2
0.8
1.5
0.8 0.7
1
0.6
0.6
0.5 0.5
0.4
0.4
0
0.2 0.3
−0.5
0.2
0 −1
0.1
−0.2 0 −1.5
0 5 10 15 20 25 30 35 40 45 0 5 10 15 20 25 30 35 40 45 0 5 10 15 20 25 30 35 40 45
Time(s) Time(s) Time(s)
(a) Control (b) Setpoint (- ., black), Reference (- -, (c) F (- -, red) and F (–, blue)
est
red) and Output (–, blue)
Fig. 2: T = 1s
est
1.4 1 2.5
0.9
1.2 2
0.8
1 1.5
0.7
0.8 1
0.6
0.6 0.5 0.5
0.4
0.4 0
0.3
0.2 −0.5
0.2
0 −1
0.1
−0.2 0 −1.5
0 5 10 15 20 25 30 35 40 45 0 5 10 15 20 25 30 35 40 45 0 5 10 15 20 25 30 35 40 45
Time(s) Time(s) Time(s)
(a) Control (b) Setpoint (- ., black), Reference (- -, (c) F (- -, red) and F (–, blue)
est
red) and Output (–, blue)
Fig. 3: T = 10s
est
[13] C. Join, G. Robert, M. Fliess, Vers une commande sans mode`le [17] R. Madon´ski, P. Herman, Model-free control of a two-dimensional
e nd
pour ame´nagements hydroe´lectriques en cascade, 6 Conf. Internat. system based on uncertainty and attenuation, 2 Int. Conf. Control
Francoph. Automat., Nancy, 2010. Preprint available at Fault-Tolerant Syst., Nice, 2013.
http://hal.archives-ouvertes.fr/inria-00460912/en/ [18] M. Mboup, C. Join, M. Fliess, Numerical differentiation with anni-
[14] F. Lafont, J.-F. Balmat, N. Pessel, M. Fliess, Model-free control and hilators in noisy environment, Numer. Algor., vol. 50, pp. 439–467,
fault accommodation for an experimental greenhouse, Int. Conf. Green 2009.
Energy Environ. Engin., Sousse, 2014. Preprint soon available at [19] L. Menhour, B. d’Andre´a-Novel, M. Fliess, H. Mounier, Multivariable
http://hal.archives-ouvertes.fr/ decoupled longitudinal and lateral vehicle control: A model-free design,
nd
[15] D.Y.Liu,O.Gibaru, W.Perruquetti, Erroranalysis of Jacobi derivative 52 IEEE Conf. Decision Control, Florence, 2013. Preprint available
estimators for noisy signals, Numer. Algor., vol. 58, pp. 53–83, 2011. at http://hal.archives-ouvertes.fr/hal-00859444/en/
[16] R. Longchamp, Commande nume´rique des syste`mes dynamiques, t. 1, [20] L. Michel, W. Michiels, X. Boucher, Model free control of nonlinear
e
3 e´d., Presses polytechniques et universitaires romandes, 2010. power converters, Proc.Canad. Conf. Electric. Comput. Engin., Regina,

2 1.2
1
1
0.8
0
0.6
−1
0.4
−2
0.2
−3
0
−4 −0.2
0 5 10 15 20 25 30 35 0 5 10 15 20 25 30 35
Time(s) Time(s)
(a) Control (b) Setpoint (- ., black), Reference (- -,
red) and Output (–, blue)
Fig. 4: Delay free
0.5 1.2
0 1
−0.5
0.8
−1
0.6
−1.5
0.4
−2
0.2
−2.5
−3 0
−3.5 −0.2
0 5 10 15 20 25 30 35 0 5 10 15 20 25 30 35
Time(s) Time(s)
(a) Control (b) Setpoint (- .,black), Reference (- -,
red) and Output (–, blue)
Fig. 5: Delayed control – K = 1
P
x 1029 x 1028
2 3
1 2.5
2
0
1.5
−1
1
−2
0.5
−3
0
−4
−0.5
−5 −1
−6 −1.5
0 5 10 15 20 25 30 35 0 5 10 15 20 25 30 35
Time(s) Time(s)
(a) Control (b) Setpoint (- ., black), Reference (- -,
red) and Output (–, blue)
Fig. 6: Delayed control – K = 10
P
2013. Control, Springer, 1997.
th
[21] L. Michel, W. Michiels, X. Boucher, Model free control of microgrids, [26] F.G. Shinskey, Process Control Systems, 4 ed., McGraw-Hill, 1996.
Proc. Canad. Conf. Electric. Comput. Engin., Regina, 2013. [27] R. Sipahi, S.-I. Niculescu, C.T. Abdallah, W. Michiels, K. Gu, Sta-
[22] R.H. Middleton, D.E. Miller, On the achievable delay margin using bility and stabilization of systems with time delay – Limitations and
LTI control for unstable plants, IEEE Trans. Automat. Control, vol. 52, opportunities, IEEE Control Syst. Magaz., vol. 31, pp. 38–65, 2011.
pp. 1194–1207, 2007. [28] B.L. van der Waerden, Algebra I, 9. Aufl., Springer, 1993. English
[23] S.-I.Niculescu, DelayEffects onStability: ARobustControlApproach, translation: Algebra, vol. 1, Springer, 1991.
Springer, 2001. [29] J. Wang, M.S. Geamanu, A. Cela, H. Mounier, S.-I. Niculescu, Event
[24] J.M. Rodriguez-Fortun, F. Rotella, J. Alfonso, F. Carrillo, J. Orus, driven model free control of quadrotor, IEEE Int. Conf. Control Appli.,
Model-free control of a 3-DOF piezoelectric nanopositioning platform, Hyderabad, 2013.
nd
52 IEEE Conf. Decision Control, Florence, 2013. [30] Y. Xu, E. Bideaux, D. Thomasset, Robustness study on the model-
[25] R. Sepulchre, M. Jankovic, P. Kokotovic, Constructive Nonlinear free control and the control with restricted model of a high perfor-

|    |
|:---|
|    |

th
mance electro-hydraulic system, 13 Scandin. Int. Conf. Fluid Power,
Linko¨ping, 2013.
[31] K. Yosida, Operational Calculus (translated from the Japanese),
Springer, 1984.

2
0
−2
−4
−6
−8
−10
0 5 10 15 20 25 30 35 40
Time(s)

9
8
7
6
5
4
3
2
1
0
−1
0 5 10 15 20 25 30 35 40
Time(s)

2
1.5
1
0.5
0
−0.5
0 5 10 15 20 25 30 35 40
Time(s)

Bode Diagram
−2 −1 0 1 2
10 10 10 10 10
Frequency  (rad/sec)

| None   | Bode Diagram        | None   |
|:-------|:--------------------|:-------|
|        | −2 −1 0 1 2         |        |
|        | 10 10 10 10 10      |        |
|        | Frequency (rad/sec) |        |

Nyquist Diagram
−9 −8 −7 −6 −5 −4 −3 −2 −1

| None   | Nyquist Diagram            | None   |
|:-------|:---------------------------|:-------|
|        |                            |        |
|        | −9 −8 −7 −6 −5 −4 −3 −2 −1 |        |